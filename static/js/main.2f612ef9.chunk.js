(this.webpackJsonpcopenhagen=this.webpackJsonpcopenhagen||[]).push([[0],{35:function(e,t,a){},36:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),s=a(18),r=a.n(s),i=(a(35),a(8)),o=a(5),j=a(47),d=a(29),l=a(46),h=(a(36),a(1));function b(){return Object(h.jsxs)("div",{className:"home",children:[Object(h.jsx)("h1",{className:"header",children:"COPENHAGEN"}),Object(h.jsx)(i.b,{to:"/toilets",className:"left-arrow arrow noselect"}),Object(h.jsx)(i.b,{to:"/toilets",className:"left-link",children:"Toilets"}),Object(h.jsx)(i.b,{to:"/weather",className:"right-link",children:"Weather"}),Object(h.jsx)(i.b,{to:"/weather",className:"right-arrow arrow noselect"})]})}var O=a(48),u=a(20),x=a(21),m=["soendag","mandag","tirsdag","onsdag","torsdag","fredag","loerdag"];function p(e){var t=e.data,a=Object(c.useState)([55.682,12.58]),n=Object(u.a)(a,2),s=n[0],r=n[1],i=Object(c.useState)(12.5),o=Object(u.a)(i,2),j=o[0],d=o[1],l=Object(c.useState)({}),b=Object(u.a)(l,2),O=b[0],p=b[1],g=Object(c.useState)(m[(new Date).getDay()]),f=Object(u.a)(g,1)[0];return Object(h.jsxs)("div",{className:"map-container",children:[Object(h.jsxs)(x.a,{height:300,center:s,zoom:j,zoomSnap:!1,children:[t.map((function(e){var t=e.geometry,a=e.properties,c=e.id;return Object(h.jsx)(x.b,{anchor:[t.coordinates[0][1],t.coordinates[0][0]],color:"#f9bac5",payload:a,onClick:function(e){return function(e){var t=e.anchor,a=e.payload;r(t),d(15),p(a),console.log(a)}(e)}},c)})),Object(h.jsx)(x.c,{})]}),Object(h.jsxs)("div",{className:"toilet-info",children:["Adresse: ",O.adresse," ",Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),"Handicap adgang: ",O.handicapadgang,Object(h.jsx)("br",{})," ",Object(h.jsx)("br",{}),"\xc5bningstid i dag: ",O[f]]})]})}var g=a.p+"static/media/bike-animated.f6af4639.gif";function f(){var e=Object(O.a)("toiletData",(function(){return fetch("https://wfs-kbhkort.kk.dk/k101/ows?service=WFS&version=1.0.0&request=GetFeature&typeName=k101:toilet_tmf_kk&outputFormat=json&SRSNAME=EPSG:4326").then((function(e){return e.json()}))})),t=e.isLoading,a=e.error,c=e.data;return t?Object(h.jsx)("div",{children:Object(h.jsx)("img",{src:g,alt:"Loading your data :)"})}):a?"Error"+a.data:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"toilet-card",children:[Object(h.jsx)(p,{data:c.features}),Object(h.jsx)("p",{children:"Inneholder data, som er stillet til r\xe5dighet af en af medlemsorganisationene i Open Data DK"})]}),Object(h.jsx)(i.b,{to:"/",className:"right-arrow arrow noselect"}),Object(h.jsx)(i.b,{to:"/",className:"right-link",children:"Home"})]})}var w=(new Date).getDay(),v={0:"Sun",1:"Mon",2:"Tue",3:"Wed",4:"Thu",5:"Fri",6:"Sat"};function N(){var e=Object(O.a)("weatherData",(function(){return fetch("http://api.weatherapi.com/v1/forecast.json?key=eb86fa637f4c4666ab570733210809&q=copenhagen&days=5&aqi=no&alerts=no&hour=0").then((function(e){return e.json()}))})),t=e.isLoading,a=e.error,c=e.data;return t?Object(h.jsx)("div",{children:Object(h.jsx)("img",{src:g,alt:"Loading your data :)"})}):a?"Error"+a.data:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"weather-card",children:[Object(h.jsxs)("div",{className:"weather-card-row",children:[Object(h.jsxs)("div",{className:"current-weather",children:[Object(h.jsx)("h3",{children:"Today"}),Object(h.jsx)("img",{src:"https://cdn.weatherapi.com/weather/128x128/day/116.png",alt:c.current.condition.text}),Object(h.jsx)("p",{children:c.current.condition.text}),Object(h.jsxs)("p",{children:[c.current.temp_c," \xb0C"]})]}),Object(h.jsxs)("div",{className:"wind-data",children:[Object(h.jsx)("h4",{children:"Wind:"}),Object(h.jsx)("br",{}),Object(h.jsxs)("span",{children:["Velocity: ",(.27778*c.current.wind_kph).toFixed(2)," m/s"]}),Object(h.jsxs)("span",{children:["Direction: ",c.current.wind_dir]}),Object(h.jsxs)("span",{children:["Direction: ",(.27778*c.current.gust_kph).toFixed(2)," m/s"]})]})]}),Object(h.jsx)("div",{className:"weather-card-row",children:c.forecast.forecastday.slice(1).map((function(e,t){var a=e.day;return Object(h.jsxs)("div",{className:"forecast-day",children:[Object(h.jsx)("span",{children:v[(w+t+1)%7]}),Object(h.jsx)("img",{src:a.condition.icon,alt:a.condition.text}),Object(h.jsxs)("span",{children:[a.avgtemp_c," \xb0C"]})]})}))})]}),Object(h.jsx)(i.b,{to:"/",className:"left-arrow arrow noselect"}),Object(h.jsx)(i.b,{to:"/",className:"left-link",children:"Toilets"})]})}var k=a.p+"static/media/copenhagen_street_16_9.27e25f31.jpg",y=new j.a;function S(){return Object(h.jsx)(d.a,{client:y,children:Object(h.jsx)(i.a,{children:Object(h.jsx)(o.c,{children:Object(h.jsxs)("div",{className:"app",children:[Object(h.jsx)("img",{src:k,className:"app-background",alt:"Man brushing his teeth out the window on the streets of Copenhagen"}),Object(h.jsx)(o.a,{path:"/",exact:!0,children:function(e){var t=e.match;return Object(h.jsx)(l.a,{in:null!=t,timeout:1e3,classNames:"page",unmountOnExit:!0,children:Object(h.jsx)("div",{className:"page",children:Object(h.jsx)(b,{})})})}}),Object(h.jsx)(o.a,{path:"/toilets",children:function(e){var t=e.match;return Object(h.jsx)(l.a,{in:null!=t,timeout:1e3,classNames:"toilet-page",unmountOnExit:!0,children:Object(h.jsx)("div",{className:"toilet-page",children:Object(h.jsx)(f,{})})})}}),Object(h.jsx)(o.a,{path:"/weather",children:function(e){var t=e.match;return Object(h.jsx)(l.a,{in:null!=t,timeout:1e3,classNames:"weather-page",unmountOnExit:!0,children:Object(h.jsx)("div",{className:"weather-page",children:Object(h.jsx)(N,{})})})}})]})})})})}r.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(S,{})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.2f612ef9.chunk.js.map